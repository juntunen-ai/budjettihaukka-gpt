paths:
  /budjettidata:
    get:
      operationId: getBudgetData
      summary: Hae valtion budjettitalouden tapahtumia määritellyillä kriteereillä (CSV-muodossa).
      description: |
        Noutaa listan Suomen valtion budjettitalouden tapahtumista CSV-muodossa. 
        Huomioi, että dataa on saatavilla vain aikaväliltä huhtikuu 2022 – huhtikuu 2025.
        Tarkenna hakua käyttämällä alla olevia parametreja. Ilman parametreja haku voi olla hidas tai palauttaa liikaa dataa.
        Vastaus on CSV-muotoinen merkkijono, jossa ensimmäinen rivi on otsikkorivi.
      parameters:
        - name: yearFrom
          in: query
          description: "Aloitusvuosi haulle. Sallittu aikaväli: 2022-2025. Huomioi, että data alkaa huhtikuusta 2022."
          schema:
            type: integer
            minimum: 2022
            maximum: 2025
          example: 2023
        - name: yearTo
          in: query
          description: "Päättymisvuosi haulle. Sallittu aikaväli: 2022-2025. Huomioi, että data päättyy huhtikuuhun 2025."
          schema:
            type: integer
            minimum: 2022
            maximum: 2025
          example: 2024
        - name: monthFrom
          in: query
          description: "Aloituskuukausi haulle (1-12). Jos yearFrom on 2022, monthFrom tulee olla >= 4."
          schema:
            type: integer
            minimum: 1
            maximum: 12
          example: 1
        - name: monthTo
          in: query
          description: "Päättymiskuukausi haulle (1-12). Jos yearTo on 2025, monthTo tulee olla <= 4."
          schema:
            type: integer
            minimum: 1
            maximum: 12
          example: 12
        - name: momentti
          in: query
          description: |
            Talousarvion momentin tunnus tai osa momentin nimestä. 
            Tarkka tunnus (esim. '28.50.01') antaa tarkimman tuloksen. 
            Voit myös kokeilla hakua momentin nimen osalla (esim. 'Yleinen tuomioistuinlaitos').
          schema:
            type: string
          example: "28.50.01"
        - name: hallinnonala
          in: query
          description: |
            Hallinnonalan numeerinen tunnus. Esimerkiksi '12' vastaa Oikeusministeriötä.
            Kysy tarvittaessa käyttäjältä tarkempaa hallinnonalaa, jos et ole varma tunnuksesta.
            Yleisimpiä hallinnonaloja:
            - 1: Eduskunta
            - 2: Tasavallan presidentti
            - 3: Valtioneuvoston kanslia
            - 4: Ulkoministeriö
            - 12: Oikeusministeriö
            - 25: Sisäministeriö
            - 26: Puolustusministeriö
            - 27: Valtiovarainministeriö
            - 29: Opetus- ja kulttuuriministeriö
            - 30: Maa- ja metsätalousministeriö
            - 31: Liikenne- ja viestintäministeriö
            - 32: Työ- ja elinkeinoministeriö
            - 33: Sosiaali- ja terveysministeriö
            - 35: Ympäristöministeriö
          schema:
            type: integer 
          example: 12
        - name: tilivirasto
          in: query
          description: |
            Tiliviraston numeerinen tunnus. Esimerkiksi '286' vastaa Tuomioistuinlaitosta. 
            Tämä on tarkempi kuin hallinnonala. Kysy käyttäjältä, jos et ole varma tunnuksesta.
          schema:
            type: integer
          example: 286
      responses:
        "200":
          description: Lista valtion budjettitalouden tapahtumista CSV-muodossa. Jokainen rivi edustaa yhtä tapahtumaa ja sarakkeet on erotettu pilkuilla. Ensimmäinen rivi sisältää sarakeotsikot.
          content:
            text/csv:
              schema:
                type: string
                example: |
                  Vuosi,Kk,Hallinnonala,Momentti_TunnusP,Momentti_sNimi,Voimassaoleva_talousarvio,Nettokertymä
                  2023,1,"Oikeusministeriö","28.50.01","Yleinen tuomioistuinlaitos",100000.00,50000.00
                  2023,2,"Oikeusministeriö","28.50.01","Yleinen tuomioistuinlaitos",100000.00,60000.00
